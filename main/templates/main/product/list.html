{% extends "main/base.html" %}

{% block title %}
    {% if category %}{{ category.name }}{% else %} Товари {% endif %}
{% endblock title %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h1>{% if category %}{{ category.name }}{% else %} Всі товари {% endif %}</h1>
    <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" >
            Сортування
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
            <li><a class="dropdown-item" href="?sort=name">За назвою(А-Я)</a></li>
            <li><a class="dropdown-item" href="?sort=-name">За назвою(Я-А)</a></li>
            <li><a class="dropdown-item" href="?sort=price">За ціною(Дешеві)</a></li>
            <li><a class="dropdown-item" href="?sort=-price">За ціною(Дорожчі)</a></li>

        </ul>
    </div>
</div>

{% if not products %}
    <div class="alert alert-info"> Товари в цій категорії відсутні</div>
{% else %}
<div class="row">
    {% for product in products %}
     <div class="col-md-4 mb-4">
         <div class="card h-100">
             <a href="{{ product.get_absolute_url }}">
                 <img class="card-img-top" src="{{ product.image.url }}" alt="Зображення {{ product.name }}">
             </a>
             <div class="card-body d-flex flex-column">
                 <h5 class="card-title">
                     <a href="{{ product.get_absolute_url }}" class="text-decoration-none">{{ product.name }}</a>
                 </h5>
                 <p class="card-text mt-auto">{{ product.price }} $</p>
                 <a href="{{ product.get_absolute_url }}" class="btn btn-outline-primary mt-2"> Детальніше </a>

             </div>
         </div>
     </div>
    {% endfor %}
</div>
{% endif %}


{% endblock content %}